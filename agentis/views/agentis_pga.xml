<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <record id="view_agentis_dga_tree" model="ir.ui.view">
        <field name="name">agentis.dga.tree</field>
        <field name="model">agentis.dga</field>
        <field name="arch" type="xml">
            <tree string="Listes">
                <field name="create_date" width="1"/>
                <field name="libele" width="2"/>
                <field name="name" width="1"/>
                <field name="nature_payment" width="1"/>
                <field name="payment_with" width="1" invisible="1"/>
                <field name="payment_with_employee" width="1" attrs="{'invisible':[('payment_with','!=','employee')]}"/>
                <field name="payment_with_other" width="1" attrs="{'invisible':[('payment_with','=','employee')]}"/>
                <field name="beneficiaire" width="1"/>
                <field name="check_in_out" width="1"/>
                <field name="somme" width="1"/>
                <field name="chantier_id" width="1"/>
                <field name="update" width="1"/>
                <field name="update_by" width="1"/>
                <field name="visibility" width="1"/>
            </tree>
        </field>
    </record>

    <record id="view_agentis_dga_form" model="ir.ui.view">
        <field name="name">agentis.dga.form</field>
        <field name="model">agentis.dga</field>
        <field name="arch" type="xml">
            <form create="false">
                 <header style="margin-top:25px;">
                    <button name="create_enter" type="object" string="Créer une entrée" class="oe_highlight" />
                    <button name="create_out" style="margin-right:20px;" type="object" string="Créer une sortie" class="oe_highlight" />
                </header>
                <sheet>
                        <group>
                            <group>
                                <field name="create_date"/>
                                <field name="libele"/>
                                <field name="name"/>
                            </group>
                            <group>
                                <field name="nature_payment"/>
                                <field name="payment_with"/>
                                <field name="payment_with_employee" attrs="{'invisible':[('payment_with','!=','employee')]}"/>
                                <field name="payment_with_other" attrs="{'invisible':[('payment_with','=','employee')]}"/>
                                <field name="beneficiaire" require="1"/>
                            </group>
                            <group>
                                <field name="check_in_out"/>
                                <field name="somme"/>
                                <field name="visibility" widget="radio"/>
                            </group>
                            <group style="margin-top:15px;">
                                <field name="chantier_id"/>
                                <field name="update"/>
                                <field name="update_by"/>
                            </group>
                        </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="view_agentis_dga_tree_action" model="ir.actions.act_window">
        <field name="name">Caisse DGA</field>
        <field name="res_model">agentis.dga</field>
        <field name="type">ir.actions.act_window</field>
        <field name="view_mode">tree,form</field>
        <field name="target">inline</field>
        <field name="view_id" ref="view_agentis_dga_tree"/>
    </record>

    <menuitem id="agentis.menu_account_caisse" name="Caisses" parent="account.menu_finance_entries" sequence="-1"
              groups="base.group_system"/>
    <menuitem id="agentis.menu_account_caisse_dga" name="Caisse DGA" parent="agentis.menu_account_caisse" sequence="1"
               action="view_agentis_dga_tree_action"/>

</odoo>